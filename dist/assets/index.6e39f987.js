var t=Object.defineProperty,e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(e,i,n)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n,o=(t,o)=>{for(var h in o||(o={}))i.call(o,h)&&s(t,h,o[h]);if(e)for(var h of e(o))n.call(o,h)&&s(t,h,o[h]);return t};import{openBlock as h,createElementBlock as l,useCssVars as d,createBlock as r,Transition as c,withCtx as a,withDirectives as m,normalizeClass as u,normalizeStyle as f,createElementVNode as p,toDisplayString as g,vShow as y,createCommentVNode as x,renderSlot as v,createTextVNode as b,isVNode as w,createVNode as k,render as E,createApp as $}from"vue";var z=(t,e)=>{for(const[i,n]of e)t[i]=n;return t};var H=z({},[["render",function(t,e){return h(),l("div",null,"31312")}]]);const I=(t,e)=>{for(let i in e)void 0===t[i]?t[i]=e[i]:"object"==typeof t[i]&&I(t[i],e[i]);return t},N={name:"LayerVue",props:{title:{type:[String,Boolean],default:"信息"},area:{type:[String,Array],default:"auto"},offset:{type:[String,Array,Number],default:"auto"},settop:{type:Boolean,default:!1},moveOut:{type:Array,default:()=>[0,0,0,0]},visible:{visible:[Number,Boolean],default:!0},zindex:{type:Number,default:1},closeBtn:{type:[Number,Boolean],default:!0},maxmin:{type:Array,default:()=>[0,0]},resize:{type:Array,default:()=>[1,1]},moveEnd:{type:Function},move:{type:[String,Boolean],default:".layer-vue-title-text"},cancel:{type:Function},success:{type:Function},end:{type:Function},full:{type:Function},min:{type:Function},restore:{type:Function},resizing:{type:Function},resizeEnd:{type:Function},destroyOnClose:{type:[Number,Boolean],default:!1},anim:{type:Number,default:1},content:{},titleheight:{type:Number,default:42},skin:{type:[Object,String]},id:{type:String,default:void 0},reset:{type:Boolean},fixed:{type:Boolean,default:!0},minarea:{type:[Number,Array],default:()=>[300,200]},isOutAnim:{type:[Boolean,Number],default:!0},boderwidth:{type:Number,default:0},isMax:{type:Boolean,default:!1},shape:{type:Array,default:()=>[0,0]}},emits:["destroy","update:visible","update:isMax"],setup:(t,{attrs:e,slots:i,emit:n})=>({tttt:1}),computed:{contentheight:function(){let t=this.height-(this.title?this.titleheight:0);return this.boderwidth<=0&&("string"==typeof this.skin?this.defborderwidth=3:this.defborderwidth=0),t-=2*this.defborderwidth,t<=0&&(t=0),t},textwidth:function(){return this.width-((this.maxmin[0]?35:0)+(this.maxmin[1]?35:0)+50)}},watch:{visible:function(t){this.defvisible=t},defvisible:function(t){if(t){if(this.settop){const t=this.$layer.o.settop();this.zIndex=t}else this.zIndex=this.zindex;this.$nextTick((()=>{this.endanim=!1,this.init(),this.success&&this.success(this.$el,this.index,this.id)}))}},reset:function(){this.resetfun()},isMax:function(t){t!==this.maxbtn&&this.$el.querySelector(this.move)&&this.maxfun()},minbtn:function(t){".layer-vue-title-text"!=this.move&&(this.$el.querySelector(".layer-vue-title-text").style.cursor=t?"move":"")},title:function(t){this.deftitle=t}},created(){if(console.log(this.id,"created"),this.deftitle=this.title,this.defskin=this.$layer.o.skin,window.addEventListener("resize",this.resizefun),this.visible||void 0===this.visible)if(this.settop){console.log(this.id,"settop");const t=this.$layer.o.settop();this.zIndex=t}else this.zIndex=this.zindex},mounted(){console.log(this.id,"mounted");const{width:t,height:e}=this.minareainit();this.minwidth=t,this.minheight=e,this.model?this.$layer.o.instances[this.index]=this:(this.index=this.$layer.o.instances.length,this.$layer.o.instances.push(this)),"object"==typeof this.skin?"object"==typeof this.defskin?this.defskin=I(this.skin,this.defskin):this.borderwidth&&(this.borderwidth=3):"string"==typeof this.skin&&(this.defskin=this.skin),this.defvisible=this.visible},beforeUnmount(){console.log("beforeUnmount"),window.removeEventListener("resize",this.resizefun)},methods:{minmovefun(t){if(t.preventDefault(),this.minbtn&&".layer-vue-title-text"!=this.move){const{x:e}=this;let i=t.clientX;document.onmousemove=t=>{t.preventDefault();let n=t.clientX-i,s=parseInt(e)+parseInt(n);!parseInt(this.moveOut[3])&&s<=0&&(s=0),!parseInt(this.moveOut[1])&&s>=document.documentElement.clientWidth-this.minwidth&&(s=document.documentElement.clientWidth-this.minwidth),this.x=s},this.f()}},resizefun(){if(this.maxbtn)return this.width=document.documentElement.clientWidth,void(this.height=document.documentElement.clientHeight);this.x+this.width>=document.documentElement.clientWidth&&(this.x=document.documentElement.clientWidth-this.width),this.x<=0&&(this.x=0),this.minbtn?this.y=document.documentElement.clientHeight-this.height:(this.y+this.height>=document.documentElement.clientHeight&&(this.y=document.documentElement.clientHeight-this.height),this.y<=0&&(this.y=0),(this.resize[0]||this.resize[1])&&(this.width>=document.documentElement.clientWidth&&(this.width=document.documentElement.clientWidth),this.width<=this.minwidth&&(this.width=this.minwidth),this.height>=document.documentElement.clientHeight&&(this.height=document.documentElement.clientHeight),this.height<=this.minheight&&(this.height=this.minheight)))},resetfun(){this.maxbtn=!1,this.minbtn=!1,this.x=this.initdata.x,this.y=this.initdata.y,this.width=this.initdata.width,this.height=this.initdata.height},beforeenter(){},enter(){},afterenter(){console.log("afterenter");try{this.$refs.content.children.length&&(this.display=this.$refs.content.children[0].style.display)}catch(t){this.$layer.o.log&&console.warn("[layer warn]:not find children")}},init(){console.log("this.init"),this.maxbtn=!1,this.minbtn=!1,this.$refs.content.children.length&&("none"!==this.display&&"none"!==getComputedStyle(this.$refs.content.children[0]).display||(this.$refs.content.children[0].style.display="block"));const{height:t,width:e}=this.areainit(),{x:i,y:n}=this.offsetinit(this.offset,e,t);this.initdata={width:e,height:t,x:i,y:n},this.width=e,this.height=t,this.x=i,this.y=n,this.movefun(this.move),this.isMax&&this.maxfun()},minareainit(){let t=0,e=0;return this.minarea instanceof Array?(t=this.minarea[0],e=this.minarea[1],e=+e,t=+t,isNaN(e)&&(e=200),isNaN(t)&&(t=300)):(t=300,e=200),{height:e,width:t}},areainit(){let t=0,e=0,i=!1;return this.area instanceof Array?(e=this.tf(this.area[0],"clientWidth"),this.$refs.content&&this.$refs.content.children&&this.$refs.content.children.length>0&&(i=!0),t=this.area[1]?this.tf(this.area[1],"clientHeight"):i?this.$refs.content.children[0].scrollHeight:0):(e="auto"===this.area?i?this.$refs.content.children[0].scrollWidth:0:this.tf(this.area,"clientWidth"),t=i?this.$refs.content.children[0].scrollHeight:0),e>document.documentElement.clientWidth&&document.documentElement.clientWidth>this.minwidth?e=document.documentElement.clientWidth:e<=this.minwidth&&(e=this.minwidth),t>document.documentElement.clientHeight&&document.documentElement.clientHeight>this.minheight?t=document.documentElement.clientHeight:t<=this.minheight&&(t=this.minheight),isNaN(t)&&(t=this.minheight),isNaN(e)&&(e=this.minwidth),{height:t,width:e}},offsetinit(t,e,i,n=-1){let s=0,o=0,h=e,l=i;if(0===n&&(s=.5*e,o=.5*i,e=0,i=0),t instanceof Array)s=t[1]?this.tf(t[1],"clientWidth"):.5*(document.documentElement.clientWidth-e),o=this.tf(t[0],"clientHeight");else if("number"==typeof t)o=t,s=.5*(document.documentElement.clientWidth-e);else if(0===t.substr(-2).indexOf("px"))o=parseInt(t.slice(0,-2));else if(0===t.substr(-1).indexOf("%"))o=document.documentElement.clientHeight*parseInt(t.slice(0,-1))*.01;else switch(t){case"auto":s=.5*(document.documentElement.clientWidth-e),o=.5*(document.documentElement.clientHeight-i);break;case"t":s=.5*(document.documentElement.clientWidth-e);break;case"r":s=document.documentElement.clientWidth-h,o=.5*(document.documentElement.clientHeight-i);break;case"b":s=.5*(document.documentElement.clientWidth-e),o=document.documentElement.clientHeight-l;break;case"l":o=.5*(document.documentElement.clientHeight-i);break;case"lt":break;case"lb":o=document.documentElement.clientHeight-l;break;case"rt":s=document.documentElement.clientWidth-h;break;case"rb":s=document.documentElement.clientWidth-h,o=document.documentElement.clientHeight-l;break;default:s=.5*(document.documentElement.clientWidth-e),o=.5*(document.documentElement.clientHeight-i)}return isNaN(s)&&(s=.5*(document.documentElement.clientWidth-e)),isNaN(o)&&(o=.5*(document.documentElement.clientHeight-i)),{x:s,y:o}},tf(t,e){let i=0;return i="number"==typeof t?t:0===t.substr(-2).indexOf("px")?parseInt(t.slice(0,-2)):0===t.substr(-1).indexOf("%")?document.documentElement[e]*parseInt(t.slice(0,-1))*.01:parseInt(t),i},afterleave(){console.log("afterleave"),this.destroyOnClose?(this.model&&this.$emit("destroy"),this.end&&this.end()):this.cancel&&this.cancel(this.$el,this.index,this.id)},close(){if(!this.defvisible)return this.$layer.o.log&&console.warn("[layer-warn]layer-vue-"+this.index+" is closed"),!1;this.$emit("update:visible",!1),this.$nextTick((()=>{this.visible&&(this.defvisible=!1)}))},closefun(){return new Promise((t=>{t(this.close())}))},maxfun(){this.maxbtn=!this.maxbtn,this.$emit("update:isMax",this.maxbtn),this.maxbtn?(this.move&&this.$el.querySelector(this.move)&&(this.$el.querySelector(this.move).style.cursor="not-allowed"),this.minbtn?this.minbtn=!1:(this.l.x=this.x,this.l.y=this.y,this.l.width=this.width,this.l.height=this.height),this.x=0,this.y=0,this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight,this.full&&this.full(this.$el,this.index,this.id)):(this.x=this.l.x,this.y=this.l.y,this.width=this.l.width,this.height=this.l.height,this.restore&&this.restore(this.$el,this.index,this.id),this.move&&this.$el.querySelector(this.move)&&(this.$el.querySelector(this.move).style.cursor="move"))},minfun(){this.minbtn=!this.minbtn,this.minbtn?(this.move&&this.$el.querySelector(this.move)&&(this.$el.querySelector(this.move).style.cursor="move"),this.maxbtn?this.maxbtn=!1:(this.l.x=this.x,this.l.y=this.y,this.l.width=this.width,this.l.height=this.height),this.x=this.l.x,this.y=document.documentElement.clientHeight-this.titleheight,this.height=this.titleheight,this.width=200,this.min&&this.min(this.$el,this.index,this.id)):(this.x=this.l.x,this.y=this.l.y,this.width=this.l.width,this.height=this.l.height,this.restore&&this.restore(this.$el,this.index,this.id))},settopfun(){this.settop&&(this.zIndex=this.$layer.o.settop())},f(t){document.onmouseup=e=>{e.preventDefault(),t&&t(this.$el,this.index,this.id),document.onmousemove=null,document.onmouseup=null}},lbresizefun(t){t.preventDefault();const{minwidth:e,minheight:i,width:n,height:s,x:o}=this,h=t.clientX,l=t.clientY;document.onmousemove=t=>{t.preventDefault();let d=t.clientX-h,r=t.clientY-l;this.l.width=parseInt(n)-parseInt(d),this.l.height=parseInt(s)+parseInt(r);let c=parseInt(o)+parseInt(d);this.l.width<=e&&(this.l.width=e),this.l.width+c>=o+n&&(c=o+n-this.l.width),this.l.height<=i&&(this.l.height=i),!parseInt(this.moveOut[3])&&c<=0&&(c=0,this.l.width=o+n),this.width=this.l.width,this.height=this.l.height,this.x=c,this.resizing&&this.resizing(this.$el,this.width,this.height)},this.f(this.resizeEnd)},rbresizefun(t){t.preventDefault();const{width:e,height:i,x:n,y:s,minwidth:o,minheight:h}=this,l=t.clientX,d=t.clientY;document.onmousemove=t=>{t.preventDefault();let r=t.clientX-l,c=t.clientY-d;this.l.width=parseInt(e)+parseInt(r),this.l.height=parseInt(i)+parseInt(c),this.l.width<=o&&(this.l.width=o),this.l.width+n>=document.documentElement.clientWidth&&(this.l.width=document.documentElement.clientWidth-n),this.l.height<=h&&(this.l.height=h),this.l.height+s>=document.documentElement.clientHeight&&(this.l.height=document.documentElement.clientHeight-s),this.width=this.l.width,this.height=this.l.height,this.resizing&&this.resizing(this.$el,this.width,this.height)},this.f(this.resizeEnd)},restorefun(){this.minbtn=!1,this.maxbtn=!1,this.$emit("update:isMax",this.maxbtn),this.x=this.l.x,this.y=this.l.y,this.width=this.l.width,this.height=this.l.height,this.$el.querySelector(this.move).style.cursor="move"},movefun(t){this.$el.querySelector(t)&&null===this.$el.querySelector(t).onmousedown&&(this.$el.querySelector(t).style.cursor="move",this.$el.querySelector(t).onmousedown=t=>{if(!(this.$el.className.indexOf("layer-vue-ismax")>=0))if(this.$el.className.indexOf("layer-vue-ismin")>=0){const{x:e}=this;let i=t.clientX;document.onmousemove=t=>{t.preventDefault();let n=t.clientX-i,s=parseInt(e)+parseInt(n);!parseInt(this.moveOut[3])&&s<=0&&(s=0),!parseInt(this.moveOut[1])&&s>=document.documentElement.clientWidth-this.minwidth&&(s=document.documentElement.clientWidth-this.minwidth),this.x=s},this.f()}else{const{x:e,y:i}=this;let n=t.clientX,s=t.clientY;document.onmousemove=t=>{t.preventDefault();let o=t.clientX-n,h=t.clientY-s,l=parseInt(e)+parseInt(o);!parseInt(this.moveOut[3])&&l<=0&&(l=0),!parseInt(this.moveOut[1])&&l>=document.documentElement.clientWidth-this.width&&(l=document.documentElement.clientWidth-this.width);let d=parseInt(i)+parseInt(h);!parseInt(this.moveOut[0])&&d<=0&&(d=0),!parseInt(this.moveOut[2])&&d>=document.documentElement.clientHeight-this.height&&(d=document.documentElement.clientHeight-this.height),this.x=l,this.y=d,this.l.x=l,this.l.y=d},this.f(this.moveEnd)}})}}},O=()=>{d((t=>{var e;return{"4ff78f05":null==(e=t.defskin.maxmin)?void 0:e.color}}))},W=N.setup;N.setup=W?(t,e)=>(O(),W(t,e)):O;const S=N,B=["data-index","data-anim","data-id","id","data-skin"],M=["title"],A={t:"1623989554257",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2299",width:"16",height:"16"},L=[p("path",{d:"M128 512h768a25.6 25.6 0 1 1 0 51.2h-768a25.6 25.6 0 1 1 0-51.2z","p-id":"2300"},null,-1)],C={t:"1623989831113",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2537",width:"16",height:"16"},V=[p("path",{d:"M959.72 0H294.216a63.96 63.96 0 0 0-63.96 63.96v127.92H64.28A63.96 63.96 0 0 0 0.32 255.84V959.4a63.96 63.96 0 0 0 63.96 63.96h703.56a63.96 63.96 0 0 0 63.96-63.96V792.465h127.92a63.96 63.96 0 0 0 63.96-63.96V63.96A63.96 63.96 0 0 0 959.72 0zM767.84 728.505V959.4H64.28V255.84h703.56z m189.322 0H831.8V255.84a63.96 63.96 0 0 0-63.96-63.96H294.216V63.96H959.72z","p-id":"2538"},null,-1)],q={t:"1623988846084",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1720",width:"16",height:"16"},P=[p("path",{d:"M918.14912 546.53952l0 282.50112c0 48.85504-39.76192 88.59648-88.6272 88.59648l-634.9824 0c-48.87552 0-88.63744-39.74144-88.63744-88.59648L105.90208 194.74432c0-48.85504 39.76192-88.60672 88.63744-88.60672L477.7984 106.1376c-15.24736 15.64672-25.38496 36.29056-27.60704 59.22816L194.52928 165.36576c-16.20992 0-29.39904 13.17888-29.39904 29.37856l0 634.29632c0 16.18944 13.18912 29.36832 29.39904 29.36832l634.9824 0c16.20992 0 29.39904-13.17888 29.39904-29.36832L858.91072 574.1056C881.2032 571.96544 901.888 562.37056 918.14912 546.53952zM573.93152 188.90752l193.6384 0L454.13376 502.35392c-17.34656 17.34656-17.34656 45.47584 0 62.8224 17.34656 17.34656 45.47584 17.34656 62.8224 0.01024l313.43616-313.4464 0 193.64864c0 24.53504 19.88608 44.42112 44.42112 44.42112 12.26752 0 23.37792-4.95616 31.41632-13.0048 8.0384-8.05888 13.01504-19.1488 13.01504-31.41632L919.2448 144.47616c0-24.53504-19.88608-44.42112-44.42112-44.42112L573.93152 100.05504c-24.53504 0-44.42112 19.88608-44.42112 44.43136C529.50016 169.02144 549.39648 188.90752 573.93152 188.90752z","p-id":"1721"},null,-1)],D={t:"1623989831113",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2537",width:"16",height:"16"},X=[p("path",{d:"M959.72 0H294.216a63.96 63.96 0 0 0-63.96 63.96v127.92H64.28A63.96 63.96 0 0 0 0.32 255.84V959.4a63.96 63.96 0 0 0 63.96 63.96h703.56a63.96 63.96 0 0 0 63.96-63.96V792.465h127.92a63.96 63.96 0 0 0 63.96-63.96V63.96A63.96 63.96 0 0 0 959.72 0zM767.84 728.505V959.4H64.28V255.84h703.56z m189.322 0H831.8V255.84a63.96 63.96 0 0 0-63.96-63.96H294.216V63.96H959.72z","p-id":"2538"},null,-1)],j=[p("svg",{t:"1623989504811",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2061",width:"16",height:"16"},[p("path",{d:"M563.3 509l352.3-352.3c13.9-13.9 13.9-36.4 0-50.3-13.9-13.9-36.4-13.9-50.3 0L513 458.7 160.7 106.4c-13.9-13.9-36.4-13.9-50.3 0-13.9 13.9-13.9 36.4 0 50.3L462.7 509 110.4 861.3c-13.9 13.9-13.9 36.4 0 50.3 6.9 6.9 16.1 10.4 25.2 10.4s18.2-3.5 25.2-10.4L513 559.3l352.3 352.3c6.9 6.9 16.1 10.4 25.2 10.4s18.2-3.5 25.2-10.4c13.9-13.9 13.9-36.4 0-50.3L563.3 509z","p-id":"2062"})],-1)],F=[p("svg",{t:"1623989504811",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2061",width:"16",height:"16"},[p("path",{d:"M563.3 509l352.3-352.3c13.9-13.9 13.9-36.4 0-50.3-13.9-13.9-36.4-13.9-50.3 0L513 458.7 160.7 106.4c-13.9-13.9-36.4-13.9-50.3 0-13.9 13.9-13.9 36.4 0 50.3L462.7 509 110.4 861.3c-13.9 13.9-13.9 36.4 0 50.3 6.9 6.9 16.1 10.4 25.2 10.4s18.2-3.5 25.2-10.4L513 559.3l352.3 352.3c6.9 6.9 16.1 10.4 25.2 10.4s18.2-3.5 25.2-10.4c13.9-13.9 13.9-36.4 0-50.3L563.3 509z","p-id":"2062"})],-1)];var Y=z(S,[["render",function(t,e,i,n,s,o){return h(),r(c,{name:"layer",onBeforeEnter:o.beforeenter,onEnter:o.enter,onAfterEnter:o.afterenter,onAfterLeave:o.afterleave},{default:a((()=>[t.model||(!i.destroyOnClose||t.defvisible)?m((h(),l("div",{key:0,"οndragstart":"return false;","data-index":t.index,"data-anim":i.anim,"data-id":i.id,class:u(["layer-vue",{"layer-vue-ismax":t.maxbtn,"layer-vue-ismin":t.minbtn}]),id:"layer-vue-"+t.index,"data-skin":"string"==typeof t.defskin?t.defskin:"",style:f({"--mc":t.defskin.maxmin?t.defskin.maxmin.color:"","--cc":t.defskin.close?t.defskin.close.color:"","--mbc":t.defskin.maxmin?t.defskin.maxmin.background:"","--cbc":t.defskin.close?t.defskin.close.background:"","--mch":t.defskin.maxmin?t.defskin.maxmin.colorHover:"","--cch":t.defskin.close?t.defskin.close.colorHover:"","--mbch":t.defskin.maxmin?t.defskin.maxmin.backgroundHover:"","--cbch":t.defskin.close?t.defskin.close.backgroundHover:"","box-shadow":t.defskin.boxShadow,background:t.defskin.background,width:t.width+"px",height:t.height+"px",top:t.y+"px",left:t.x+"px","z-index":t.zIndex,position:i.fixed?"fixed":"absolute"}),onMousedown:e[7]||(e[7]=(...t)=>o.settopfun&&o.settopfun(...t))},[t.deftitle?(h(),l("div",{key:0,class:"layer-vue-title",style:f({background:t.defskin.title?t.defskin.title.background:"",color:t.defskin.title?t.defskin.title.color:"","border-bottom":t.defskin.title?t.defskin.title.borderBottom:"",height:i.titleheight+"px","line-height":i.titleheight+"px"}),onMousedown:e[3]||(e[3]=(...t)=>o.minmovefun&&o.minmovefun(...t))},[p("div",{class:"layer-vue-title-text",title:t.deftitle,style:f({width:o.textwidth+"px"})},g(t.deftitle),13,M),p("div",{class:"layer-vue-tools",style:f({height:i.titleheight+"px","line-height":i.titleheight+"px"})},[m(p("span",{class:"layer-vue-min",onClick:e[0]||(e[0]=(...t)=>o.minfun&&o.minfun(...t))},[m((h(),l("svg",A,L,512)),[[y,!t.minbtn]]),m((h(),l("svg",C,V,512)),[[y,t.minbtn]])],512),[[y,i.maxmin[1]]]),m(p("span",{class:"layer-vue-max",onClick:e[1]||(e[1]=(...t)=>o.maxfun&&o.maxfun(...t))},[m((h(),l("svg",q,P,512)),[[y,!t.maxbtn]]),m((h(),l("svg",D,X,512)),[[y,t.maxbtn]])],512),[[y,i.maxmin[0]&&!t.minbtn]]),m(p("span",{class:"layer-vue-close",onClick:e[2]||(e[2]=(...t)=>o.closefun&&o.closefun(...t))},j,512),[[y,i.closeBtn]])],4)],36)):x("",!0),m(p("span",{class:u({"layer-vue-close2":!i.title}),onClick:e[4]||(e[4]=(...t)=>o.closefun&&o.closefun(...t))},F,2),[[y,i.closeBtn&&!i.title]]),i.resize[0]&&!t.maxbtn?(h(),l("div",{key:1,class:"layer-vue-resize",onMousedown:e[5]||(e[5]=(...t)=>o.rbresizefun&&o.rbresizefun(...t))},null,32)):x("",!0),i.resize[1]&&!t.maxbtn?(h(),l("div",{key:2,class:"layer-vue-lbresize",onMousedown:e[6]||(e[6]=(...t)=>o.lbresizefun&&o.lbresizefun(...t))},null,32)):x("",!0),p("div",{ref:"content",class:"layer-vue-content",style:f({"border-radius":i.title?"0 0 2px 2px":"2px",background:t.defskin.content?t.defskin.content.background:"",color:t.defskin.content?t.defskin.content.color:"",height:o.contentheight+"px"})},[v(t.$slots,"default",{},(()=>[b(g(i.content),1)]))],4)],46,B)),[[y,t.defvisible]]):x("",!0)])),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onAfterLeave"])}]]);const T={defvisible:!1,endanim:!1,maxbtn:!1,minbtn:!1,minwidth:300,minheight:200,x:0,y:0,width:0,height:0,zIndex:1,display:void 0,defskin:{},initdata:{x:0,y:0,width:300,height:200},defborderwidth:0,l:{},deftitle:void 0,model:void 0,index:void 0,ishtml:!1,isnewDOM:!1},U=(t,e)=>{let i=-1;return"number"==typeof t?i=t:"string"==typeof t&&(i=e.instances.findIndex((e=>{if(e)return e.id===t}))),i};let _=t=>{const e=function(t){return e.open(t)};return e.open=(e={})=>{const i=t.config.globalProperties.$layer.o;if(e.id){let t=U(e.id,i);console.log(t);const n=i.instances[t];if(n)return n.destroyOnClose||(n.model?n.defvisible=!0:(n.$emit("update:visible",!0),n.defvisible||(n.defvisible=!0))),t}else e.destroyOnClose=!0;delete e.visible;const n=o({},T),s=o({},Y),{skin:h}=i;e.skin?"string"==typeof e.skin||(e.skin=I(e.skin,h)):e.skin=h;const{content:l}=e;if(w(l))delete e.content;else if(l instanceof HTMLElement)if(n.ishtml=!0,delete e.content,l.parentNode){if(l.parentNode.className.indexOf("layer-vue")>=0)return l.parentNode.parentNode.dataset.index}else n.isnewDOM=!0;let d=i.instances.length;i.instances.push(void 0),n.index=d,n.model=1,s.data=()=>o({},n);const r=k(s,o({},e),w(l)?{default:()=>l}:null);console.log("createVNode",r,r.component),r.props.onDestroy=()=>{E(null,c),delete i.instances[d]},r.appContext=t._context;const c=document.createElement("div");return E(r,c),console.log("rendervNode",r,r.component),document.querySelector(e.el||"#app")?document.querySelector(e.el||"#app").appendChild(c.firstElementChild):document.body.appendChild(c.firstElementChild),console.log("appendChild",r,r.component),r.component.proxy.titlexxx="123131231231",r.component.proxy.defvisible=!0,console.log(r.component.proxy),d},e.close=async e=>{const i=t.config.globalProperties.$layer.o;e=U(e,i);const n=i.instances[e];if(n){return await n.closefun()}return i.log&&console.warn("[layer-warn]:No layer with index ：layer-vue-"+e+" found"),!1},e.reset=e=>{const i=t.config.globalProperties.$layer.o;e=U(e,i);const n=i.instances[e];return n?(n.resetfun(),!0):(i.log&&console.warn("[layer-warn]:No layer with index ：layer-vue-"+e+" found"),!1)},e.closeAll=async()=>{const e=t.config.globalProperties.$layer.o;let i=[];return e.instances.forEach((t=>{t&&i.push(t.closefun())})),await Promise.all(i)},e.full=e=>{const i=t.config.globalProperties.$layer.o;e=U(e,i);const n=i.instances[e];return n&&!1===n.maxbtn?(n.maxfun(),!0):(i.log&&console.warn("[layer-warn]:No layer with index ：layer-vue-"+e+" found"),!1)},e.min=e=>{const i=t.config.globalProperties.$layer.o;e=U(e,i);const n=i.instances[e];return n&&!1===n.minbtn?(n.maxfun(),!0):(i.log&&console.warn("[layer-warn]:No layer with index ：layer-vue-"+e+" found"),!1)},e.restore=e=>{const i=t.config.globalProperties.$layer.o;e=U(e,i);const n=i.instances[e];return n?(n.restorefun(),!0):(i.log&&console.warn("[layer-warn]:No layer with index ：layer-vue-"+e+" found"),!1)},e.openAgain=e=>{const i=t.config.globalProperties.$layer.o;e=U(e,i);const n=i.instances[e];return n?!n.destroyOnClose&&!1===n.defvisible&&(n.model?n.defvisible=!0:(n.$emit("update:visible",!0),n.defvisible||(n.defvisible=!0)),!0):(i.log&&console.warn("[layer-warn]:No layer with index ：layer-vue-"+e+" found"),!1)},e.setTitle=(e,i)=>{const n=t.config.globalProperties.$layer.o;e=U(e,n);const s=n.instances[e];return console.log(s),!!s.model&&(s.$data.deftitle=i,!0)},e};const G={background:"#fff",boxShadow:"1px 1px 50px rgb(0 0 0 / 30%)",title:{background:"#fff",color:"#000",borderBottom:"1px solid #f0f0f0"},content:{background:"#fff",color:"#000"},maxmin:{background:"#fff",color:"#000",backgroundHover:"#6666",colorHover:"#008afc"},close:{background:"#fff",color:"#000",backgroundHover:"#f00",colorHover:"#fff"}};_.install=(t,e={})=>{console.log("%c layer-vue3 %c v0.0.0 %c","background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent"),Y.data=()=>o({},T),t.component(Y.name,Y);let i=G;e.skin&&(i="object"==typeof e.skin?I(e.skin,G):e.skin);const n=t.config.globalProperties;n.$layer=_(t),n.$layer.o={log:!(!e||!e.log)&&e.log,zindex:e&&e.zindex?e.zindex:100,skin:i,settop:()=>(n.$layer.o.zindex=n.$layer.o.zindex+1,n.$layer.o.zindex),instances:[]}};const J=$(H);J.use(_),J.mount("#app");
